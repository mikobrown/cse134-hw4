<!DOCTYPE html>
<html lang="en">
    <head>
        <title>CRUD</title>
        <script type="module">
            import { init, createPost, getPosts, editPost, deletePost } from './blog.js';
            init();
            getPosts();
            window.createPost = createPost;
            window.editPost = editPost;
            window.deletePost = deletePost;
        </script>
        <style>
            input {
                margin-bottom: 1rem;
            }
            #submit {
                display: block;
                margin : auto;
            }
            dialog {
                background: lightgray;
            }
        </style>
    </head>
    <body>
        <header>
            <h1>Blog Posts</h1>
        </header>
        <main>
            <p id="noPostsText"></p>
            <ul id="postList"></ul>
            <button id="createPost" onclick="createPost()">Add Blog Post</button>
            <dialog id="dialogBox">
                <form method="dialog" id="form">
                    <label for="title">Title:</label>
                    <input type="text" id="title" name="title" required>
                    <br>
                    <label for="date">Date:</label>
                    <input type="date" id="date" name="date" required>
                    <br>
                    <label for="summary">Summary:</label>
                    <input type="text" id="summary" name="summary" required>
                    <br>
                    <button type="submit" id="submit">Submit</button>
                </form>
            </dialog>
            <dialog id="deleteDialog">
                <p id="dialogText">Delete blog post?</p>
                <button id="cancel">Cancel</button>
                <button id="ok">OK</button>
            </dialog>
        </main>
    </body>
</html>